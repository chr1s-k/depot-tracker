<table
  mat-table
  [dataSource]="data"
  matSort
  class="mat-elevation-z0"
  style="width: 100%;"
>
  <ng-container
    *ngFor="let column of columns | keyvalue"
    [matColumnDef]="column.key"
  >
    <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>
      {{ column.value.displayName }}
    </th>
    <td mat-cell *matCellDef="let element">{{ element[column.key] }}</td>
    <td mat-footer-cell *matFooterCellDef>
      {{ totalValueFor(column.key) | currency }}
    </td>
  </ng-container>

  <ng-container [matColumnDef]="'actions'">
    <th mat-header-cell *matHeaderCellDef mat-sort-header i18n></th>
    <td mat-cell *matCellDef="let element">
      <button
        (click)="addTransaction(element)"
        mat-icon-button
        aria-label="Button to add transaction to asset"
      >
        <mat-icon>add_box</mat-icon>
      </button>
      <button
        (click)="goToAssetTransaction(element)"
        mat-icon-button
        aria-label="Button to see all transactions for asset"
      >
        <mat-icon>list</mat-icon>
      </button>
      <button
        (click)="removeAsset(element)"
        mat-icon-button
        aria-label="Button to remove asset"
      >
        <mat-icon>remove_circle</mat-icon>
      </button>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns()"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns()"></tr>
</table>

<button
  style="margin: 12px; float: right;"
  mat-flat-button
  color="primary"
  i18n
  (click)="navigateToAssetCreate()"
>
  Create New Asset
</button>
