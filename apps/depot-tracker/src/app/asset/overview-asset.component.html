<div style="display: flex; flex-direction: column; height: 80vh;">
  <div style="flex: 1 1 auto; overflow-x: hidden; overflow-y: auto;">
    <table
      mat-table
      [dataSource]="data"
      matSort
      class="mat-elevation-z0"
      style="width: 100%;"
    >
      <ng-container
        *ngFor="let column of columns | keyvalue: keepKeyOrder"
        [matColumnDef]="column.key"
      >
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>
          {{ column.value.header }}
        </th>
        <ng-container *ngIf="!column.value.isCurrency">
          <td mat-cell *matCellDef="let element">{{ element[column.key] }}</td>
        </ng-container>
        <ng-container *ngIf="column.value.isCurrency">
          <td mat-cell *matCellDef="let element">
            {{ element[column.key] | currency }}
          </td>
        </ng-container>
        <td mat-footer-cell *matFooterCellDef>
          {{ totalValueFor(column.key) }}
        </td>
      </ng-container>

      <ng-container [matColumnDef]="'actions'">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n></th>
        <td mat-cell *matCellDef="let element">
          <button
            (click)="addTransaction(element)"
            mat-icon-button
            aria-label="Button to add transaction to asset"
          >
            <mat-icon>add_box</mat-icon>
          </button>
          <button
            (click)="goToAssetTransaction(element)"
            mat-icon-button
            aria-label="Button to see all transactions for asset"
          >
            <mat-icon>list</mat-icon>
          </button>
          <button
            (click)="removeAsset(element)"
            mat-icon-button
            aria-label="Button to remove asset"
          >
            <mat-icon>remove_circle</mat-icon>
          </button>
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns(); sticky: true"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns()"></tr>
      <tr
        mat-footer-row
        *matFooterRowDef="displayedColumns(); sticky: true"
      ></tr>
    </table>
  </div>

  <div style="flex: 0 1 auto;">
    <button
      style="margin: 12px;"
      mat-flat-button
      color="primary"
      i18n
      (click)="navigateToAssetCreate()"
    >
      Create New Asset
    </button>
  </div>

  <div
    style="
      flex: 0 1 auto;
      display: flex;
      flex-direction: row;
      justify-content: space-around;
    "
  >
    <div style="width: 20%; height: 15%;">
      <div echarts [options]="diagramOptions()"></div>
    </div>
    <div style="width: 20%; height: 15%;">
      <div echarts [options]="diagramOptionsTypes()"></div>
    </div>
    <div style="width: 20%; height: 15%;">
      <div echarts [options]="options"></div>
    </div>
  </div>
</div>
